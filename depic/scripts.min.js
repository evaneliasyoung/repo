"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var n=0,o=new Array(e.length);n<e.length;n++)o[n]=e[n];return o}}function setCookie(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365,t=new Date;t.setTime(t.getTime()+24*o*60*60*1e3),document.cookie="".concat(e,"=").concat(n,";expires=").concat(t.toUTCString(),';path=/"')}function getCookie(e){for(var n=e+"=",o=document.cookie.split(";"),t=0;t<o.length;++t){for(var i=o[t];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(n))return i.substring(n.length,i.length)}return""}function parseSearch(){for(var e,n=window.location.search.substring(window.location.search.indexOf("?")+1).split("&"),o={},t=n.length-1;t>=0;t--)e=n[t].split("="),o[decodeURIComponent(e[0])]=decodeURIComponent(e[1]||"");return o}function checkCydia(){-1!==navigator.userAgent.indexOf("Cydia")?(-1!==document.title.indexOf(" · ")&&(document.title=document.title.split(" · ")[0]),document.documentElement.classList.add("cydia")):document.documentElement.classList.remove("cydia","depiction")}function correctCydia(){if(document.documentElement.classList.contains("cydia")){var e=document.createElement("base"),n=document.getElementsByClassName("cydia_blank");e.target="_open",document.head.appendChild(e);for(var o=0;o<n.length;o++)n[o].target="_blank"}}function verifyVersion(){document.querySelector("ul").innerHTML+='<li><strong>Compatible</strong><span class="fright">'.concat(window.depic.compatStr,"</span></li>")}function getFooter(){var e=["Hosting ".concat(window.pkgs," Packages"),"","Copyright Evan Elias Young 2017-2019"];e[1]="Unknown"!==window.d.name?window.d.name:"Device Unknown",e[1]+=""!==window.d.version?" iOS ".concat(window.d.version):"",document.querySelector("footer").innerHTML=e.join("<br>")}function updateMainDepiction(){document.querySelector('[href="changelog.html"]').href="changelog.html".concat(window.location.search),verifyVersion(),document.querySelectorAll("[data-depic]").forEach(function(e){e.innerHTML=e.innerHTML+window.depic[e.dataset.depic]}),window.depic.screenshots.length>0&&spawnScreenshots()}function updateChangeDepiction(){window.depic.changelog.forEach(function(e){document.querySelector("#list").innerHTML+="<li>\n      <p><strong>Changes in Version ".concat(e.version,'</strong><span class="fright">').concat(e.date,"</span></p>\n      <p></p>\n      <ul><li>").concat(e.changes.join("</li><li>"),"</li></ul>\n    </li>")})}function updateScreenDepiction(){var e=!0,n=!1,o=void 0;try{for(var t,i=window.depic.screenshots[Symbol.iterator]();!(e=(t=i.next()).done);e=!0){var a=t.value;document.querySelector("#list").innerHTML+='<li><img src="'.concat(a,'" class="screenshot-image"></li>')}}catch(e){n=!0,o=e}finally{try{e||null==i.return||i.return()}finally{if(n)throw o}}}function updateDepiction(){spawnBackButton(),"main"===window.body.dataset.purpose?updateMainDepiction():"changelog"===window.body.dataset.purpose?updateChangeDepiction():"screenshots"===window.body.dataset.purpose&&updateScreenDepiction()}function spawnBackButton(){document.querySelector("header > div > a").innerHTML="main"===window.body.dataset.purpose?"Repo":window.depic.title,document.querySelector("header > div > a").href="main"===window.body.dataset.purpose?"..":"./".concat(window.location.search)}function spawnScreenshots(){document.querySelector("main > ul").innerHTML+="<li><a href='screenshots.html".concat(window.location.search,"' role='button' class='cydia_blank'>View Screenshots</a></li>")}function mainLoad(){window.d=new Device,window.d.name=window.d.getName(),window.d.version=window.d.getVersion(),window.body=document.querySelector("body"),window.params=parseSearch(),window.pkgs=16,""===getCookie("theme")&&setCookie("theme","classic"),getFooter()}function rootLoad(){mainLoad()}function load(){mainLoad(),window.params.repo?window.fetch("".concat(window.params.repo,".json")).then(function(e){return e.json()}).then(function(e){var n;window.depic=e,window.depic.version=window.depic.changelog[0].version,window.depic.date=window.depic.changelog[0].date,window.depic.change="<li>".concat(window.depic.changelog[0].changes.join("</li><li>"),"</li>"),window.depic.compatStr=""===window.d.version?"Unknown":(n=window.d).matchVersion.apply(n,_toConsumableArray(window.depic.compat.split("-")))?"Yes":"No"}).then(updateDepiction):window.location.href="..",checkCydia(),correctCydia()}