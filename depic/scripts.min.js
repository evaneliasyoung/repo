function parseSearch(){let e,n=window.location.search.substring(window.location.search.indexOf("?")+1).split("&"),o={};for(let i=n.length-1;i>=0;i--)e=n[i].split("="),o[decodeURIComponent(e[0])]=decodeURIComponent(e[1]||"");return o}function checkCydia(){-1!==navigator.userAgent.indexOf("Cydia")?(-1!==document.title.indexOf(" · ")&&(document.title=document.title.split(" · ")[0]),document.documentElement.classList.add("cydia")):document.documentElement.classList.remove("cydia","depiction")}function correctCydia(){if(document.documentElement.classList.contains("cydia")){let e=document.createElement("base"),n=document.getElementsByClassName("cydia_blank");e.target="_open",document.head.appendChild(e);for(let e=0;e<n.length;e++)n[e].target="_blank"}}function verifyVersion(){document.querySelector("ul").innerHTML+=`<li><strong>Compatible</strong><span class="fright">${window.depic.compatStr}</span></li>`}function getFooter(){let e=[`Hosting ${window.pkgs} Packages`,"","Copyright Evan Elias Young 2017-2019"];e[1]="Unknown"!==window.d.name?window.d.name:"Device Unknown",e[1]+=""!==window.d.version?` iOS ${window.d.version}`:"",document.querySelector("footer").innerHTML=e.join("<br>")}function updateMainDepiction(){document.querySelector('[href="changelog.html"]').href=`changelog.html${window.location.search}`,verifyVersion(),document.querySelectorAll("[data-depic]").forEach(e=>{e.innerHTML=e.innerHTML+window.depic[e.dataset.depic]}),window.depic.screenshots.length>0&&spawnScreenshots()}function updateChangeDepiction(){window.depic.changelog.forEach(e=>{document.querySelector("#list").innerHTML+=`<li>\n      <p><strong>Changes in Version ${e.version}</strong><span class="fright">${e.date}</span></p>\n      <p></p>\n      <ul><li>${e.changes.join("</li><li>")}</li></ul>\n    </li>`})}function updateScreenDepiction(){for(let e of window.depic.screenshots)document.querySelector("#list").innerHTML+=`<li><img src="${e}" class="screenshot-image"></li>`}function updateDepiction(){spawnBackButton(),"main"===window.body.dataset.purpose?updateMainDepiction():"changelog"===window.body.dataset.purpose?updateChangeDepiction():"screenshots"===window.body.dataset.purpose&&updateScreenDepiction()}function spawnBackButton(){document.querySelector("header > div > a").innerHTML="main"===window.body.dataset.purpose?"Repo":window.depic.title,document.querySelector("header > div > a").href="main"===window.body.dataset.purpose?"..":`./${window.location.search}`}function spawnScreenshots(){document.querySelector("main > ul").innerHTML+=`<li><a href='screenshots.html${window.location.search}' role='button' class='cydia_blank'>View Screenshots</a></li>`}function mainLoad(){window.d=new window.Device,window.d.name=window.d.getName(),window.d.version=window.d.getVersion(),window.body=document.querySelector("body"),window.params=parseSearch(),window.pkgs=16,getFooter()}function rootLoad(){mainLoad()}function load(){mainLoad(),window.params.repo?window.fetch(`${window.params.repo}.json`).then(e=>e.json()).then(e=>{window.depic=e,window.depic.version=window.depic.changelog[0].version,window.depic.date=window.depic.changelog[0].date,window.depic.change=`<li>${window.depic.changelog[0].changes.join("</li><li>")}</li>`,window.depic.compatStr=""===window.d.version?"Unknown":window.d.VersionMatch(...window.depic.compat.split("-"))?"Yes":"No"}).then(updateDepiction):window.location.href="..",checkCydia(),correctCydia()}